{% extends "website/base.html" %}
{% load static %}

{% block title %}Home | SpaceBook{% endblock %}

{% block content %}

<!-- FULL-WIDTH HERO IMAGE -->
<img src="{% static 'images/featured.jpg' %}"
     style="width: 100%; object-fit: cover; display: block; margin: 0; padding: 0;"
     alt="Featured banner">

<!-- Page content with normal padding -->
<div class="container py-5">

<div class="container py-5">
  <!-- Hero section -->
  <div class="row align-items-center mb-5">
    <div class="col-lg-7 text-center text-lg-start">
      <h1 class="display-5 fw-bold mb-3">
        SpaceBook – Library Space Booking Made Simple
      </h1>
      <p class="lead mb-4">
        Book study rooms, discussion spaces, and media rooms across UiTM branches
        in one place. No more paper forms, no more guessing if a room is free.
      </p>

      {% if user.is_authenticated %}
        <p class="mb-3">
          Logged in as <strong>{{ user.get_full_name|default:user.username }}</strong>.
        </p>
        <!-- Just a placeholder for now -->
        <a href="#" class="btn btn-primary btn-lg me-2 disabled" aria-disabled="true">
          View my bookings
        </a>
        <a href="/accounts/logout/" class="btn btn-outline-secondary btn-lg">
          Log out
        </a>
      {% else %}
        <!-- Basic login link (will 404 until you add auth URLs, but it won't crash the template) -->
        <a href="/accounts/login/" class="btn btn-primary btn-lg me-2">
          Sign in
        </a>
        <a href="#features" class="btn btn-outline-secondary btn-lg">
          Learn more
        </a>
      {% endif %}
    </div>

    <div class="col-lg-5 mt-4 mt-lg-0">
      <div class="card shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title mb-3 text-center">Today at a glance</h5>
          <ul class="list-group list-group-flush small">
            <li class="list-group-item d-flex justify-content-between">
              <span>Total bookings today</span>
              <span class="fw-semibold">{{ stats.total_today|default:"0" }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Most used space</span>
              <span class="fw-semibold">{{ stats.top_space_name|default:"—" }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Pending approvals</span>
              <span class="fw-semibold">{{ stats.pending_approvals|default:"0" }}</span>
            </li>
          </ul>
          <p class="mt-3 mb-0 text-muted text-center">
            These numbers are just examples – you can fill them from your reports app later.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Features section -->
  <div id="features" class="mb-5">
    <h2 class="h3 fw-bold text-center mb-4">What you can do with SpaceBook</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <h5 class="card-title">Students & Staff</h5>
            <p class="card-text">
              Browse available spaces, check real-time availability, and book rooms online
              without walking to the counter. Cancel your own bookings when plans change.
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <h5 class="card-title">Librarians</h5>
            <p class="card-text">
              Approve or reject bookings, manage spaces, set branch closures, and view
              branch-level reports – all in a single dashboard.
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <h5 class="card-title">Admins & Management</h5>
            <p class="card-text">
              Manage branches, assign librarians, and access analytics on space usage,
              totals, averages, and trends for UiTM decision making.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer note -->
  <div class="text-center text-muted small">
    <p class="mb-0">
      SpaceBook – IML208 System Development Project.
    </p>
  </div>
</div>
{% endblock %}
