{% extends "website/base.html" %}

{% block title %}Branches | SpaceBook{% endblock %}

{% block content %}
<div class="container py-5">

<div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-3">
  <h2 class="mb-0">Branch Listing</h2>

  <div class="d-flex gap-2 align-items-center">

    <!-- Search box -->
    <form method="get" class="d-flex gap-2">
      <input type="text"
             name="q"
             value="{{ query }}"
             class="form-control"
             placeholder="Search branch name...">

      <input type="hidden" name="view" value="{{ view_mode }}">

      <button class="btn btn-outline-primary" type="submit">
        <i class="bi bi-search"></i>
      </button>
    </form>

    <!-- Grid / List toggle -->
    <div class="btn-group ms-2">
      <a href="?view=grid{% if query %}&q={{ query }}{% endif %}"
         class="btn btn-outline-secondary {% if view_mode == 'grid' %}active{% endif %}">
        <i class="bi bi-grid-3x3-gap"></i>
      </a>

      <a href="?view=list{% if query %}&q={{ query }}{% endif %}"
         class="btn btn-outline-secondary {% if view_mode == 'list' %}active{% endif %}">
        <i class="bi bi-list"></i>
      </a>
    </div>

  </div>
</div>



  {% if view_mode == "list" %}
    {% include "website/branch/_branch_list_table.html" %}
  {% else %}
    {% include "website/branch/_branch_grid.html" %}
  {% endif %}

</div>
{% endblock %}
